<!--
	Copyright (c) 2014, Kornel MaczyÅ„ski. All rights reserved. Use of this source
	code is governed by AGPLv3 license that can be found in the LICENSE file.
	If you want to contribute read the rules in the CONTRIBUTING file.
-->

<link rel="import" href="../../packages/polymer/polymer.html">

<link rel="import" href="../../packages/paper_elements/paper_input_decorator.html">
<link rel="import" href="../../packages/paper_elements/paper_icon_button.html">
<link rel="import" href="../../packages/core_elements/core_a11y_keys.html">

<polymer-element name="search-box">
	<template>
		<style>
			/*:host {
				display: block;
			}*/
			.heightLimit {
				height: 1.5em;
				/*vertical-align: center;*/
				position: relative;
				bottom: 1.1em;
			}
			paper-input-decorator {
				font-size: 70%;
			}
			div {
			  min-width: 3em;
			}
		</style>
		<core-a11y-keys keys="esc" on-keys-pressed="{{clear}}"></core-a11y-keys>


		<form layout horizontal on-submit="{{search}}" id="searchForm">
			<paper-icon-button icon="search" title="Search" on-tap="{{search}}">
			</paper-icon-button>
			<div class="heightLimit" flex>
				<paper-input-decorator floatingLabel
					label="Search for..."
					isInvalid="{{!valid}}"
					error="{{errorMsg}}">
					<input is="core-input" id="searchInput"
						value="{{searchTerm}}"
						required autofocus>
				</paper-input-decorator>
			</div>
			<paper-icon-button icon="clear" title="Clear search query" on-tap="{{clear}}">
			</paper-icon-button>
		</form>
	</template>
	<script type="application/dart" src="search_box.dart"></script>
</polymer-element>